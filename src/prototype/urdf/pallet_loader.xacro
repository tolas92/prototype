<?xml version="1.0"?>
<!--=========================starting xacros================================-->
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="prototype">


<link name="pallet_loader">
    <visual>
        <origin xyz="0 0 0" rpy="0.0 0.0 0.0"/>
        <geometry>
          <box size="0.23 0.23 0.02"/>
        </geometry> 
        <material name="silver">
            <color rgba="0.0 1.0 0.0 1.0"/>
        </material>
       </visual>
</link>

<joint name="pallet_loader_joint" type="revolute">
    <origin xyz="0.0 0.0 0.222" rpy="0.0 0.0 0.0"/>
    <parent link="chassis"/>
    <child link="pallet_loader"/>
    <axis xyz="0 1 0"/>
    <limit lower="0.0" upper="1.0" effort="20.0" velocity="2.0"/>
    <dynamics damping="0.1"  friction="0.01"/>
</joint>

    <ros2_control name="pallet_loader_" type="actuator">
      <hardware>
        <plugin>pallet_loader/PalletLoader</plugin>
        <param name="device">/dev/serial/by-id/usb-Arduino__www.arduino.cc__0043_55838323835351110262-if00</param>
        <param name="timeout">10000</param>
        <param name="baud_rate">115200</param>
        <param name="pallet_joint">pallet_loader_joint</param>
      </hardware>
      <joint name="pallet_loader_joint">
        <command_interface name="position">
          <param name="down">0.0</param>
          <param name="up">1.0</param>
          <param name="stop">0.5</param>
        </command_interface>
        <state_interface name="position"/>
      </joint>
    </ros2_control>

</robot>
